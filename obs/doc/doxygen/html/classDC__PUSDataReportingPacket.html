<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OBS Framework: DC_PUSDataReportingPacket class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>DC_PUSDataReportingPacket Class Reference</h1><code>#include &lt;<a class="el" href="DC__PUSDataReportingPacket_8h-source.html">DC_PUSDataReportingPacket.h</a>&gt;</code>
<p>
<p>Inheritance diagram for DC_PUSDataReportingPacket:
<p><center><img src="classDC__PUSDataReportingPacket.png" usemap="#DC_PUSDataReportingPacket_map" border="0" alt=""></center>
<map name="DC_PUSDataReportingPacket_map">
<area href="classPUSTelemetryPacket.html" alt="PUSTelemetryPacket" shape="rect" coords="0,112,179,136">
<area href="classTelemetryPacket.html" alt="TelemetryPacket" shape="rect" coords="0,56,179,80">
<area href="classCC__RootObject.html" alt="CC_RootObject" shape="rect" coords="0,0,179,24">
</map>
<a href="classDC__PUSDataReportingPacket-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
PUS telemetry data reporting packet with no filtering. 
<p>
A <em>PUS data reporting packet</em> is used to hold the data associated to a housekeeping and diagnostic data reporting definition (PUS service type 3). This class assumes that no filtering is performed on the reported data. The following types of service reports of the housekeeping and diagnostic data reporting service are modelled:&lt;ul&gt; The housekeeping parameter report (PUS service subtype 25) The diagnostic parameter report (PUS service subtype 26)  A data reporting packet is characterized by the following attributes: <ul>
<li>
A structure identification or SID </li>
<li>
A collection interval </li>
<li>
A set of parameter identifiers </li>
<li>
A set of fixed length arrays </li>
<li>
A mode flag </li>
<li>
An enabled flag </li>
</ul>
The <em>SID</em> is an integer that uniquely identifies the data reporting packet. <p>
The <em>collection interval</em> defines the interval between successive dispatches of the packet content to the telemetry stream. The collection interval is expressed as a positive integer representing a number of activations of the <em>data update service</em> (see method <code>update</code> in the base class <code><a class="el" href="classTelemetryPacket.html">TelemetryPacket</a></code>). Thus, for instance, a collection interval of 3 indicates that the data in the reporting packets are made available for dispatch to the telemetry stream every third activation of the <em>data update service</em>. <p>
The <em>parameter identifiers</em> identify the parameters whose values have to be included in the reporting packet. Only parameters in the <em>system data pool</em> can be included in a data reporting packet. As parameter identifier, the <em>data pool item identifier</em> must be used (see class <code><a class="el" href="classDataPool.html">DataPool</a></code>). <p>
A <em>fixed length array</em> identifies a set of parameters that must be sampled with the frequency. The fixed length array specifies the sampling frequency through the the <em>repetition count</em>, namely the number of times that the parameters must be sampled in a collection interval. If C is the collection interval for the data reporting packet and NREP is the repetition count, then C must be a multiple of NREP. The value of the parameters is acquired every C/NREP activations of the <em>data update service</em>. <p>
The <em>mode flag</em> determines whether the "mode" field should be included in the generated packet. If it is to be included, its value is always zero. The mode flag is a static attribute that is defined as a constant PUS_DATA_REP_MODE in file <code><a class="el" href="Constants_8h.html">Constants.h</a></code>. <p>
The <em>enabled flag</em> determines whether the data reporting packet is enabled or disabled. If a data reporting packet is disabled, then its <em>update service</em> takes no action and its <em>data acquisition service</em> reports: "no telemetry data to be acquired". <p>
An instance of this class is first configured after being created by performing the following operations: <ul>
<li>
The maximum size of the packet definition buffer is set (method <code>setDefinitionBufferSize</code>).  </li>
<li>
The maximum size of the packet value buffer is set (method <code>setValueBufferSize</code>).  </li>
<li>
The maximum number of fixed-length array is set (method <code>setMaxNumberFA</code>).  </li>
</ul>
The <em>packet definition buffer</em> is an internal buffer that holds a copy of the application data of the PUS telecommand that defined the housekeeping or diagnostic packet report. The <em>packet value buffer</em> is an internal buffer that holds an image of telemetry data associated to this telemetry packet. In particular, it hols the values of the parameters as they are acquired in a collection interval. <p>
Instances of this class will normally undergo a second configuration process at run time when the housekeeping or diagnostic report definition is loaded. This configuration procedure is performed by loading the packet definition buffer byte by byte using method <code>setDefinitionBuffer</code>. <p>
The PUS specifies that the SID, the collection interval, the number of parameters, the number of repetitions, and the number of fixed-length arrays, should be of "unsigned integer" type but it does not specify the implementation of this type. This class uses <code>typedef</code> type definitions for the SID, the collection interval, and the number of parameters and it implements the number of repetitions and the number of fixed length arrays as "unsigned char". Similarly, the PUS specifies that the mode of packet generation should be of "enumerated" type but it does not elaborate on the exact nature of this type. This class implements the mode indicator as an "unsigned char". <p>
This class retrieves the data to be stored in the PUS reporting packet from the system data pool. In order to copy them to the packet, information about the type of the data is required. This information is retrieved by using the <em>type checking</em> service of the data pool (see methods <code>isFloat</code> and <code>isInteger</code> in class <code><a class="el" href="classDataPool.html">DataPool</a></code>). This class therefore assumes that the type checking service is fully implemented by the system data pool. <p>
This class implements the <em>fast version of the data acquisition service</em>. This is useful when the amount of telemetry data is very large. <p>
<b>Description of Internal Data Structures</b> The internal data structures of this class do not differentiate between the paramaters that are sampled only once per collection interval and the fixed-length arrays that describe oversampled paramaters. To the parameters that are sampled only once per collection interval, a fictitious fixed-length array is associated with a repetition count of 1. <p>
The internal array F holds the descriptors of the fixed length arrays. Element F[0] describes the parameters that are to be sampled only once per collection interval. Element F[i] with i&gt;0 describes the i-th fixed length array. <p>
The definition of the PUS packet is kept in the <em>packet definition buffer</em> that is a byte-by-byte copy of the application data in the PUS telecommand defining the housekeeping or diagnostic parameter report. This buffer is loaded byte by byte and it is interpreted as it is loaded. The objective of the interpretation is to set up a "map" of the buffer. This map consists of variables that point to locations in the buffer where certain information is held. Thus, for instance, internal variable <code>indNFA</code> points to the location in the buffer where the NFA field is stored. The most important mapping variable is the array <code>indFA</code>. Element <code>indFA[i]</code> with i&gt;0 holds the location of the NREP value of the i-th fixed-length array. <p>
The <em>packet value buffer</em> is organized as an array of unsigned char. Its first locations hold the SID and, depending on the value of flag PUS_DATA_REP_MODE, the reporting mode. Successive locations hold the collected parameter values stored in consecutive locations. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classDataPool.html">DataPool</a> </dd></dl>
<dl compact><dt><b>Author:</b></dt><dd>Alessandro Pasetti (P&amp;P Software GmbH) </dd></dl>
<dl compact><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8h-source.html#l00137">137</a> of file <a class="el" href="DC__PUSDataReportingPacket_8h-source.html">DC_PUSDataReportingPacket.h</a>.<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a0">DC_PUSDataReportingPacket</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instantiate a PUS data report packet.  <a href="#a0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a1">setEnabled</a> (bool enabledStatus)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the enable status of the data reporting packet.  <a href="#a1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a2">isEnabled</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the enable status of the data reporting packet.  <a href="#a2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="BasicTypes_8h.html#a23">TD_PUSCollectionInterval</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a3">getCollectionInterval</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Getter method for the collection interval.  <a href="#a3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="BasicTypes_8h.html#a24">TD_PUSNumberOfParameters</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a4">getNPAR1</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Getter method for the number of parameters to be sampled once per collection interval.  <a href="#a4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a5">getNFA</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Getter method for the number of fixed-length arrays.  <a href="#a5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="BasicTypes_8h.html#a21">TD_SID</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a6">getSID</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Getter method for the structure identifier (SID) of the data reporting packet.  <a href="#a6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a7">setDefinitionBuffer</a> (unsigned int i, unsigned char val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load the i-the byte of the <em>packet definition buffer</em>.  <a href="#a7"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a8">getDefinitionBuffer</a> (unsigned int i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the i-th byte of the <em>packet definition buffer</em>.  <a href="#a8"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a9">getDefinitionBufferLength</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of bytes in the <em>packet definition buffer</em> that were loaded with the last set of consecutive calls to method <code>setDefinitionBuffer</code>.  <a href="#a9"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a10">update</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implement the data update service.  <a href="#a10"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a11">reset</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the internal state of the data reporting packet.  <a href="#a11"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual unsigned int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a12">getNumberOfBytes</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of bytes that this data reporting packet will provide at the next call of the data acquisition service.  <a href="#a12"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual unsigned char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a13">getUnsignedByte</a> (unsigned int n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the n-th byte of this data reporting packet.  <a href="#a13"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual unsigned char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a14">getStartAddress</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a pointer to start address of the packet value buffer.  <a href="#a14"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a15">isFastAcquisitionImplemented</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return <code>true</code> to signify that the fast version of the data acquisition service is implemented.  <a href="#a15"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a16">setDefinitionBufferSize</a> (unsigned int size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the maximum size of the <em>packet definition buffer</em>.  <a href="#a16"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a17">getDefinitionBufferSize</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the maximum size of the <em>packet definition buffer</em>.  <a href="#a17"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a18">setMaxNumberFA</a> (unsigned int n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the maximum number of fixed-length arrays that are allowed in a data reporting packet.  <a href="#a18"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a19">getMaxNumberFA</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the maximum number of fixed-length arrays that are allowed in a data reporting packet.  <a href="#a19"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a20">setValueBufferSize</a> (unsigned int size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the maximum size of the <em>packet value buffer</em>.  <a href="#a20"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a21">getValueBufferSize</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the maximum size of the <em>packet value buffer</em>.  <a href="#a21"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#a22">isObjectConfigured</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform a class-specific configuration check on the telemetry packet: verify that:.  <a href="#a22"></a><br><br></td></tr>
<tr><td colspan=2><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="BasicTypes_8h.html#a16">TD_DataPoolId</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__PUSDataReportingPacket.html#b0">getParameterId</a> (unsigned int faIndex, unsigned int parPos)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the parameter id of the parPos-th parameter in the faIndex-th fixed length array.  <a href="#b0"></a><br><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="DC_PUSDataReportingPacket::DC_PUSDataReportingPacket" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DC_PUSDataReportingPacket::DC_PUSDataReportingPacket           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Instantiate a PUS data report packet. 
<p>
The size of the internal buffers are set to illegal values to signify that the data report packet is not yet configured. The class identifier is set. The packet type is set to: PUS_TYPE_DATA_REP. The enable status is set to "disabled". The "in use" status is set to: "packet not in use". <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="Constants_8h.html#a49">PUS_TYPE_DATA_REP</a> </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00021">21</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a3" doxytag="DC_PUSDataReportingPacket::getCollectionInterval" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="BasicTypes_8h.html#a23">TD_PUSCollectionInterval</a> DC_PUSDataReportingPacket::getCollectionInterval           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Getter method for the collection interval. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the collection interval </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00044">44</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="DC_PUSDataReportingPacket::getDefinitionBuffer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned char DC_PUSDataReportingPacket::getDefinitionBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>i</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the i-th byte of the <em>packet definition buffer</em>. 
<p>
The values that are returned are those that were set with the last set of consecutive calls to method <code>setDefinitionBuffer</code>. This method should be used in conjunction with method <code>getDefinitionBufferLength</code>. The legal range of the index i is [0,N-1] where N is the return value of <code>getDefinitionBufferLength</code>. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classDC__PUSDataReportingPacket.html#a9">getDefinitionBufferLength</a> <p>
<a class="el" href="classDC__PUSDataReportingPacket.html#a7">setDefinitionBuffer</a> </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>i</em>&nbsp;</td><td>the index of the byte in the packet definition buffer to be returned </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the value of the byte </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00197">197</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="DC_PUSDataReportingPacket::getDefinitionBufferLength" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned int DC_PUSDataReportingPacket::getDefinitionBufferLength           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the number of bytes in the <em>packet definition buffer</em> that were loaded with the last set of consecutive calls to method <code>setDefinitionBuffer</code>. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the number of loaded bytes in the packet definition buffer </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00192">192</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="DC_PUSDataReportingPacket::getDefinitionBufferSize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned int DC_PUSDataReportingPacket::getDefinitionBufferSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the maximum size of the <em>packet definition buffer</em>. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the size of the packet definition buffer </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00314">314</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="DC_PUSDataReportingPacket::getMaxNumberFA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned int DC_PUSDataReportingPacket::getMaxNumberFA           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the maximum number of fixed-length arrays that are allowed in a data reporting packet. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the maximum number of Ffixed-length arrays </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00349">349</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="DC_PUSDataReportingPacket::getNFA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned char DC_PUSDataReportingPacket::getNFA           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Getter method for the number of fixed-length arrays. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the number of fixed-length arrays </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00058">58</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="DC_PUSDataReportingPacket::getNPAR1" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="BasicTypes_8h.html#a24">TD_PUSNumberOfParameters</a> DC_PUSDataReportingPacket::getNPAR1           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Getter method for the number of parameters to be sampled once per collection interval. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the number of parameters </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00051">51</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="DC_PUSDataReportingPacket::getNumberOfBytes" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned int DC_PUSDataReportingPacket::getNumberOfBytes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the number of bytes that this data reporting packet will provide at the next call of the data acquisition service. 
<p>
If this method is called at a time other than the end of a collection interval, then its return value is zero. The end of a collection interval is detected by looking at the value of the main counter defined in method <code>update</code>. At the end of a collection interval, this counter has value zero. A return value of zero for this method indicates that the data reporting packet is not providing any data for the telemetry stream. A PUS data reporting packet is only intended to provide telemetry data at the end of its collection interval. <p>
If this method is called at the end of a collection interval (i.e. at a time when the main counter defined in method <code>updatey</code> is equal to zero), then its return value is equal to the number of bytes in the data reporting packet. This is computed as follows: <pre>
      n1 = sizeof(TD_SID);
      if (PUS_DATA_REP_MODE)
          n2 = 1;
      else
          n2 = 0;
      n3 = 0;
      for (all parameters p in the packet)
          if (p is of type TD_Float)
              n3 += (repetition count of p) * sizeof(TD_Float);
          else
              n3 += (repetition count of p) * sizeof(TD_Integer);
      return (n1+n2+n3); </pre> The "repetition count" of a parameter is 1 for parameters that are collected only once per cycle and it is as specified by the relevant fixed-length array for over-sampled parameters. <p>
If the packet is disabled, then this method returns zero to signify that a disabled packet should not provide any telemetry data. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classDC__PUSDataReportingPacket.html#a10">update</a> </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>the number of bytes in this data reporting packet at the end of a collection interval or zero at other times </dd></dl>

<p>
Implements <a class="el" href="classTelemetryPacket.html#a5">TelemetryPacket</a>.
<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00271">271</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="DC_PUSDataReportingPacket::getParameterId" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="BasicTypes_8h.html#a16">TD_DataPoolId</a> DC_PUSDataReportingPacket::getParameterId           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>faIndex</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>parPos</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the parameter id of the parPos-th parameter in the faIndex-th fixed length array. 
<p>
The parameter id is read from the packet definition buffer. The value of <code>faIndex</code> should lie in the interval [0,N] where N is the number of fixed length arrays in the packet. A value of <code>faIndex</code> equal to zero is taken to refer to the paramaters that are sampled only once per collection interval. The value of <code>parPos</code> should lie in the interval [0,M-1] where M is the total number of parameters in the fixed-length array (or the total number of parameters to be sampled only once per collection interval). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>faIndex</em>&nbsp;</td><td>the fixed length array index </td></tr>
    <tr><td></td><td valign=top><em>parPos</em>&nbsp;</td><td>the position of the parameter in the fixed length array </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>the paramater identifier </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00202">202</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="DC_PUSDataReportingPacket::getSID" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="BasicTypes_8h.html#a21">TD_SID</a> DC_PUSDataReportingPacket::getSID           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Getter method for the structure identifier (SID) of the data reporting packet. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the SID of the packet </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00063">63</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="DC_PUSDataReportingPacket::getStartAddress" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned char * DC_PUSDataReportingPacket::getStartAddress           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return a pointer to start address of the packet value buffer. 
<p>
This method implements the fast version of the data acquisition service. This may be useful (if potentially unsafe) in the case of large packets. <dl compact><dt><b>Returns:</b></dt><dd>the start address of the packet value buffer </dd></dl>

<p>
Reimplemented from <a class="el" href="classTelemetryPacket.html#a9">TelemetryPacket</a>.
<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00295">295</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="DC_PUSDataReportingPacket::getUnsignedByte" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned char DC_PUSDataReportingPacket::getUnsignedByte           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>n</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the n-th byte of this data reporting packet. 
<p>
The image of this packet is stored in the packet value buffer. This method therefore simply returns the value of the n-th element of the packet value buffer. Note that this method is independent of whether or not the packet is enabled. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>n</em>&nbsp;</td><td>the byte to be returned </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classTelemetryPacket.html#a8">TelemetryPacket</a>.
<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00286">286</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="DC_PUSDataReportingPacket::getValueBufferSize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned int DC_PUSDataReportingPacket::getValueBufferSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the maximum size of the <em>packet value buffer</em>. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the size of the packet definition buffer </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00328">328</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="DC_PUSDataReportingPacket::isEnabled" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool DC_PUSDataReportingPacket::isEnabled           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the enable status of the data reporting packet. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if the data reporting packet is enabled, false otherwise </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00074">74</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="DC_PUSDataReportingPacket::isFastAcquisitionImplemented" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool DC_PUSDataReportingPacket::isFastAcquisitionImplemented           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return <code>true</code> to signify that the fast version of the data acquisition service is implemented. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classDC__PUSDataReportingPacket.html#a14">getStartAddress</a> </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>this method always returns <code>true</code> </dd></dl>

<p>
Reimplemented from <a class="el" href="classTelemetryPacket.html#a10">TelemetryPacket</a>.
<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00300">300</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="DC_PUSDataReportingPacket::isObjectConfigured" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool DC_PUSDataReportingPacket::isObjectConfigured           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Perform a class-specific configuration check on the telemetry packet: verify that:. 
<p>
<ul>
<li>
The maximum size of the packet definition buffer has a legal value </li>
<li>
The maximum size of the packet value buffer has a legal value </li>
<li>
The maximum number of fixed-length arrays has a legal value </li>
</ul>
<dl compact><dt><b>Returns:</b></dt><dd>true if the component is configured, false otherwise. </dd></dl>

<p>
Reimplemented from <a class="el" href="classPUSTelemetryPacket.html#a9">PUSTelemetryPacket</a>.
<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00354">354</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="DC_PUSDataReportingPacket::reset" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_PUSDataReportingPacket::reset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reset the internal state of the data reporting packet. 
<p>
The main counter is initialized to the value of the collection interval. The FA counters are initialized to the value of the repetition counter of their fixed-length array. The component is disabled. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classDC__PUSDataReportingPacket.html#a10">update</a> </dd></dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00078">78</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="DC_PUSDataReportingPacket::setDefinitionBuffer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_PUSDataReportingPacket::setDefinitionBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>unsigned char&nbsp;</td>
          <td class="mdname" nowrap> <em>val</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Load the i-the byte of the <em>packet definition buffer</em>. 
<p>
As the packet bytes are loaded, they are interpreted and the internal map of the packet is constructed. This method assumes that the bytes are loaded in sequence starting from the most significant byte of the SID and ending with the least significant byte of the last parameter identifier in the last fixed-length array of the packet. <p>
The index i must lie in the interval [0,N-1] where N is the size of the packet definition buffer. If this is not the case, then the method generates an event report EVT_ILLEGAL_PUS_REP_PACKET and returns without taking any further action. <p>
This method, among other things, maintains a counter that keeps track of the number of fixed length arrays that have been loaded. If the number of fixed length arrays exceeds the maximum value set with method <code>setMaxNumberFA</code>, then an event report EVT_ILLEGAL_PUS_REP_PACKET is generated. <dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classDC__PUSDataReportingPacket.html#a16">setDefinitionBufferSize</a> </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>i</em>&nbsp;</td><td>the byte to be loaded </td></tr>
    <tr><td></td><td valign=top><em>val</em>&nbsp;</td><td>the value of the byte </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00090">90</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="DC_PUSDataReportingPacket::setDefinitionBufferSize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_PUSDataReportingPacket::setDefinitionBufferSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>size</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the maximum size of the <em>packet definition buffer</em>. 
<p>
This is an initialization method. It should be called only once as part of the component configuration during the application initialization phase. The maximum size should be smaller than 0xFF. <p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000036">Todo:</a></b></dt><dd>Clarify the reason for the 0xFF limit on the buffer size. This seems to be obsolete.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>size</em>&nbsp;</td><td>the size of the packet definition buffer </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00304">304</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="DC_PUSDataReportingPacket::setEnabled" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_PUSDataReportingPacket::setEnabled           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>enabledStatus</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the enable status of the data reporting packet. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>enabledStatus</em>&nbsp;</td><td>the new enabled status </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00070">70</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="DC_PUSDataReportingPacket::setMaxNumberFA" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_PUSDataReportingPacket::setMaxNumberFA           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>n</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the maximum number of fixed-length arrays that are allowed in a data reporting packet. 
<p>
This is an initialization method. It should be called only once as part of the component configuration during the application initialization phase. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>n</em>&nbsp;</td><td>the maximum number of fixed-length arrays </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00332">332</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="DC_PUSDataReportingPacket::setValueBufferSize" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_PUSDataReportingPacket::setValueBufferSize           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>size</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the maximum size of the <em>packet value buffer</em>. 
<p>
This is an initialization method. It should be called only once as part of the component configuration during the application initialization phase. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>size</em>&nbsp;</td><td>the size of the packet definition buffer </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00318">318</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="DC_PUSDataReportingPacket::update" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_PUSDataReportingPacket::update           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Implement the data update service. 
<p>
This class maintains a <em>main counter</em> and a a set of <em>FA counters</em>, one for each fixed-length array. After a reset (call to method <code>reset</code>). The main counter is initialized to the value of the collection interval. The FA counters are initialized to the value of the repetition count of their fixed-length array. If the component is enabled, then every time this method is called, the counters are decremented by one. When an FA counter reaches the value of zero, the following actions are performed: <ul>
<li>
The values of the parameters in the fixed-length array are acquired from the system database and are stored in the parameter buffer </li>
<li>
The FA counter is reset to its initial value </li>
</ul>
When the main counter reaches zero, then all the parameter values are acquired. In all cases, the time attribute of the telemetry packet is set to the current time. 
<p>
Implements <a class="el" href="classTelemetryPacket.html#a6">TelemetryPacket</a>.
<p>
Definition at line <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html#l00212">212</a> of file <a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="DC__PUSDataReportingPacket_8h-source.html">DC_PUSDataReportingPacket.h</a><li><a class="el" href="DC__PUSDataReportingPacket_8cpp-source.html">DC_PUSDataReportingPacket.cpp</a></ul>
<center>
<b>Copyright 2003 <a href="http://www.pnp-software.com/" target="_parent">P&P Software GmbH</a> - All Rights Reserved</b>
</center>
