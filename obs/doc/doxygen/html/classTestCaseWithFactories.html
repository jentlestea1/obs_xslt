<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OBS Framework: TestCaseWithFactories class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>TestCaseWithFactories Class Reference<br>
<small>
[<a class="el" href="group__TestCases.html">Test Case Support</a>]</small>
</h1><code>#include &lt;<a class="el" href="TestCaseWithFactories_8h-source.html">TestCaseWithFactories.h</a>&gt;</code>
<p>
<p>Inheritance diagram for TestCaseWithFactories:
<p><center><img src="classTestCaseWithFactories.png" usemap="#TestCaseWithFactories_map" border="0" alt=""></center>
<map name="TestCaseWithFactories_map">
<area href="classTestCaseWithEvtCheck.html" alt="TestCaseWithEvtCheck" shape="rect" coords="250,112,490,136">
<area href="classTestCaseGenericSetUp.html" alt="TestCaseGenericSetUp" shape="rect" coords="250,56,490,80">
<area href="classTestCase.html" alt="TestCase" shape="rect" coords="250,0,490,24">
<area href="classTestCaseBasicPUSTmStream__1.html" alt="TestCaseBasicPUSTmStream_1" shape="rect" coords="0,224,240,248">
<area href="classTestCasePUSControlDataReporting__1.html" alt="TestCasePUSControlDataReporting_1" shape="rect" coords="250,224,490,248">
<area href="classTestCasePUSFull.html" alt="TestCasePUSFull" shape="rect" coords="500,224,740,248">
<area href="classTestCaseBasicPUSTcLoader__1.html" alt="TestCaseBasicPUSTcLoader_1" shape="rect" coords="125,280,365,304">
<area href="classTestCasePUSClearDataReporting__1.html" alt="TestCasePUSClearDataReporting_1" shape="rect" coords="375,280,615,304">
<area href="classTestCasePUSEventRepository__1.html" alt="TestCasePUSEventRepository_1" shape="rect" coords="625,280,865,304">
<area href="classTestCasePUSTelemetryModeManager__1.html" alt="TestCasePUSTelemetryModeManager_1" shape="rect" coords="875,280,1115,304">
</map>
<a href="classTestCaseWithFactories-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Base class for test cases that need to access the dynamic factories. 
<p>
In the test set-up procedure, the dynamic factories for the telemetry packets, telecommands and manouvres are initialized and are loaded. The type of the items that are loaded are defined by the structure of the factories. Any change in the structure of the factories should be reflected by a corresponding change in this class. Test cases that need to access the dynamic factories should be constructed as subclasses of this class. &lt;p/&gt; The factory initialization and loading is only done the first time the test case is executed. &lt;p/&gt; This test case also defines a shut down procedure where all items in the factories have their status set to "item not in use". This ensures that all test cases that inherit from this class can start with all the items in the factories being available for their use. <p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000034">Todo:</a></b></dt><dd>Use this class as base class for test cases that use items that could be provided by a dynamic factory</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classCC__TelemetryPacketFactory.html">CC_TelemetryPacketFactory</a> <p>
<a class="el" href="classCC__TelecommandFactory.html">CC_TelecommandFactory</a> <p>
<a class="el" href="classCC__ManoeuvreFactory.html">CC_ManoeuvreFactory</a> </dd></dl>
<dl compact><dt><b>Author:</b></dt><dd>A. Pasetti </dd></dl>
<dl compact><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>

<p>
Definition at line <a class="el" href="TestCaseWithFactories_8h-source.html#l00045">45</a> of file <a class="el" href="TestCaseWithFactories_8h-source.html">TestCaseWithFactories.h</a>.<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTestCaseWithFactories.html#a0">TestCaseWithFactories</a> (int testId, char *testName)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the identifier and the name of the test case.  <a href="#a0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTestCaseWithFactories.html#a1">setUpTestCase</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Call the test setup service of the super class and then initialize the dynamic factories.  <a href="#a1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classTestCaseWithFactories.html#a2">shutDownTestCase</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">All the items loaded in the factories in the <code>setUpTestCase</code> method are marked as "not in use".  <a href="#a2"></a><br><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="TestCaseWithFactories::TestCaseWithFactories" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TestCaseWithFactories::TestCaseWithFactories           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>testId</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>testName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the identifier and the name of the test case. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>testId</em>&nbsp;</td><td>the test identifier </td></tr>
    <tr><td></td><td valign=top><em>testName</em>&nbsp;</td><td>the name of the test</td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="TestCaseWithFactories_8cpp-source.html#l00067">67</a> of file <a class="el" href="TestCaseWithFactories_8cpp-source.html">TestCaseWithFactories.cpp</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a1" doxytag="TestCaseWithFactories::setUpTestCase" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool TestCaseWithFactories::setUpTestCase           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Call the test setup service of the super class and then initialize the dynamic factories. 
<p>
A pseudo-code implementation of this method is as follows: <pre>
   if ( !TestCaseWithEvtCheck::setUpTestCase() )
      return false;
   else {
    if (first activation of this method) {
      retrieve the telemetry packet factory
      create telemetry packets for the telemetry packet factory
      configure telemetry packets 
      load telemetry packets in the telemetry packet factory</pre><p>
<pre>      retrieve the telecommand factory
      create telecommand components for the telecommand factory
      load telecommands in the telecommand factory</pre><p>
<pre>      retrieve the manoeuvre factory
      create manoeuvre components for the manoeuvre factory
      load manoeuvres in the manoeuvre factory</pre><p>
<pre>      return true;
    }
   } </pre> Note that the dynamic factories are implemented as singletons that are created and initialized by simply calling their <code>getInstance</code> method.
<p>
Reimplemented from <a class="el" href="classTestCaseWithEvtCheck.html#a1">TestCaseWithEvtCheck</a>.
<p>
Reimplemented in <a class="el" href="classTestCasePUSFull.html#a1">TestCasePUSFull</a>.
<p>
Definition at line <a class="el" href="TestCaseWithFactories_8cpp-source.html#l00072">72</a> of file <a class="el" href="TestCaseWithFactories_8cpp-source.html">TestCaseWithFactories.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="TestCaseWithFactories::shutDownTestCase" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool TestCaseWithFactories::shutDownTestCase           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
All the items loaded in the factories in the <code>setUpTestCase</code> method are marked as "not in use". 
<p>
The change in the "in use" status is performed by calling their <code>setInUse</code> method with argument NOT_IN_USE. This relieves concrete subclasses of the need to releases components that they have retrieved from a factory at the end of the test. Note that, if a concrete test case also releases the factory components by calling their <code>setInUse</code> method, this does not give rise to an error. 
<p>
Reimplemented from <a class="el" href="classTestCaseGenericSetUp.html#a3">TestCaseGenericSetUp</a>.
<p>
Reimplemented in <a class="el" href="classTestCasePUSFull.html#a2">TestCasePUSFull</a>.
<p>
Definition at line <a class="el" href="TestCaseWithFactories_8cpp-source.html#l00185">185</a> of file <a class="el" href="TestCaseWithFactories_8cpp-source.html">TestCaseWithFactories.cpp</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="TestCaseWithFactories_8h-source.html">TestCaseWithFactories.h</a><li><a class="el" href="TestCaseWithFactories_8cpp-source.html">TestCaseWithFactories.cpp</a></ul>
<center>
<b>Copyright 2003 <a href="http://www.pnp-software.com/" target="_parent">P&P Software GmbH</a> - All Rights Reserved</b>
</center>
