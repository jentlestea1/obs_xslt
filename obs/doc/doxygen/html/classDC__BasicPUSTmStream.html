<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OBS Framework: DC_BasicPUSTmStream class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>DC_BasicPUSTmStream Class Reference</h1><code>#include &lt;<a class="el" href="DC__BasicPUSTmStream_8h-source.html">DC_BasicPUSTmStream.h</a>&gt;</code>
<p>
<p>Inheritance diagram for DC_BasicPUSTmStream:
<p><center><img src="classDC__BasicPUSTmStream.png" usemap="#DC_BasicPUSTmStream_map" border="0" alt=""></center>
<map name="DC_BasicPUSTmStream_map">
<area href="classTelemetryStream.html" alt="TelemetryStream" shape="rect" coords="0,56,147,80">
<area href="classCC__RootObject.html" alt="CC_RootObject" shape="rect" coords="0,0,147,24">
</map>
<a href="classDC__BasicPUSTmStream-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Telemetry stream that packetizes the telemetry data according to the PUS and writes them to a <em>telemetry write area</em>. 
<p>
This component can write several packets to the telemetry write area in sequence, up to the point where there is no space left in the telemetry write area. The telemetry write area is characterized by a <em>starting address</em> and by a <em>size</em>. The starting address and the size are settable configuration parameters. They can be changed dynamically. The first byte of the telemetry write area holds the number of packets that have been written to it since the last time the stream was reset. Following bytes hold the images of the the telemetry packets in the order in which they are written. <p>
This component maintains a <em>write counter</em> and a <em>packet counter</em>. Both counters are reset to 0 by a call to operation <code>reset</code> or <code>flush</code>. The write counter is incremented every time a byte is written to the telemetry write array. If its value is smaller than the size of the telemetry write area, then the write counter points to the location in the write area where the next telemetry data byte will be written. The packet counter is equal to the number of packets that have been written to the telemetry write area since the stream was last reset. The value of the packet counter is the same as the value of the first byte of the telemetry write area. <p>
Write requests that cannot be processed because there is not enough space in the telemetry write area have no effect other than the generation of event EVT_TM_STREAM_END. It is the responsibility of the user to perform reset or flush operations when the byte array has been completely filled. <p>
This telemetry stream adds the header data to the packet data that it retrieves from the packet itself. The format of the packet header is in accordance with the PUS with the following qualifications: <ul>
<li>
The data field header flag is always set to 1 </li>
<li>
The APID is read from the telemetry packet through method <code>getPacketId</code> </li>
<li>
The grouping flags are always set to "11" (stand-alone packet) </li>
<li>
The packet sub-counter is omitted </li>
<li>
The packet destination ID field is omitted </li>
<li>
The time information is read from the telemetry packet. It is written as a value of type <code>TD_ObsTime</code>. </li>
<li>
The packet error control is set to zero (it is assumed that it is computed downstream when the packet is actually dispatched to its destination) </li>
<li>
The packet sequence count is initialized to zero when the telemetry stream and is incremented by one (with wrap around) every time a packet is written. </li>
</ul>
<dl compact><dt><b>Author:</b></dt><dd>Alessandro Pasetti (P&amp;P Software GmbH) </dd></dl>
<dl compact><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>

<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8h-source.html#l00069">69</a> of file <a class="el" href="DC__BasicPUSTmStream_8h-source.html">DC_BasicPUSTmStream.h</a>.<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a0">DC_BasicPUSTmStream</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instantiate the component.  <a href="#a0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a1">reset</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the telemetry stream.  <a href="#a1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a2">flush</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The flush operation is equivalent to a reset operation.  <a href="#a2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual unsigned int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a3">getCapacity</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the capacity of the telemetry stream.  <a href="#a3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a4">setCapacity</a> (unsigned int n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the capacity of the telemetry stream.  <a href="#a4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a5">setStartAddress</a> (unsigned char *pAddress)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the starting address of the telemetry write area.  <a href="#a5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a6">getStartAddress</a> (void) const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the starting address of the telemetry write area.  <a href="#a6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a7">getPacketCounter</a> (void) const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current value of the packet counter.  <a href="#a7"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a8">getWriteCounter</a> (void) const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the current value of the write counter.  <a href="#a8"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>unsigned int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a9">getSequenceCounter</a> (void) const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the value of the packet sequence count.  <a href="#a9"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a10">doesPacketFit</a> (<a class="el" href="classTelemetryPacket.html">TelemetryPacket</a> *pPacket)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return true if there is enough space in the telemetry write area to write the argument telemetry packet.  <a href="#a10"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a11">write</a> (<a class="el" href="classTelemetryPacket.html">TelemetryPacket</a> *pItem)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write one telemetry packet to the telemetry write area.  <a href="#a11"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDC__BasicPUSTmStream.html#a12">isObjectConfigured</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform a class-specific configuration check on the telemetry stream: verify that the size and starting address of the telemetry write area have been loaded.  <a href="#a12"></a><br><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="DC_BasicPUSTmStream::DC_BasicPUSTmStream" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DC_BasicPUSTmStream::DC_BasicPUSTmStream           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Instantiate the component. 
<p>
The class identifier is set. The size and starting address of the byte array are set to illegal values to signify that the component is not yet configured. The write counter is set to zero. 
<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00023">23</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a10" doxytag="DC_BasicPUSTmStream::doesPacketFit" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool DC_BasicPUSTmStream::doesPacketFit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTelemetryPacket.html">TelemetryPacket</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pPacket</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return true if there is enough space in the telemetry write area to write the argument telemetry packet. 
<p>
A pseudo-code implementation for this method is as follows: <pre>
      if ( pItem-&gt;getNumberOfBytes()==0 )
          return true;
	    if ( (pItem-&gt;getNumberOfBytes()+headerSize) greater than (N-writeCounter) )
	        return false;
	    else
          return true; </pre> where N is the size of the telemetry write area, <code>writeCounter</code> is the value of the write counter, and <code>headerSize</code> is the size of the PUS header that method <code>write</code> adds to the application data returned by the packet. <p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>pPacket</em>&nbsp;</td><td>the telemetry packet to be written to the telemetry stream </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if there is enough space in the telemetry stream to write the telemetry packet, false otherwise </dd></dl>

<p>
Reimplemented from <a class="el" href="classTelemetryStream.html#a4">TelemetryStream</a>.
<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00076">76</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="DC_BasicPUSTmStream::flush" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_BasicPUSTmStream::flush           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The flush operation is equivalent to a reset operation. 
<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classDC__BasicPUSTmStream.html#a1">reset</a> </dd></dl>

<p>
Reimplemented from <a class="el" href="classTelemetryStream.html#a2">TelemetryStream</a>.
<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00038">38</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="DC_BasicPUSTmStream::getCapacity" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned int DC_BasicPUSTmStream::getCapacity           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the capacity of the telemetry stream. 
<p>
The capacity of this telemetry stream is equal to the size in bytes of the telemetry write area. <dl compact><dt><b>Returns:</b></dt><dd>the size of the byte array in number of bytes </dd></dl>

<p>
Reimplemented from <a class="el" href="classTelemetryStream.html#a3">TelemetryStream</a>.
<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00042">42</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="DC_BasicPUSTmStream::getPacketCounter" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned int DC_BasicPUSTmStream::getPacketCounter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the current value of the packet counter. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the packet counter </dd></dl>

<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00063">63</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="DC_BasicPUSTmStream::getSequenceCounter" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned int DC_BasicPUSTmStream::getSequenceCounter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the value of the packet sequence count. 
<p>
This is equal to the number of packets for which write requests have been made since the telemetry stream component was instantiated. <dl compact><dt><b>Returns:</b></dt><dd>the packet sequence count </dd></dl>

<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00072">72</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="DC_BasicPUSTmStream::getStartAddress" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned char * DC_BasicPUSTmStream::getStartAddress           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the starting address of the telemetry write area. 
<p>
<dl compact><dt><b>See also:</b></dt><dd>#setStartingAddress </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>the pointer to the first location of the telemetry write area </dd></dl>

<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00058">58</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="DC_BasicPUSTmStream::getWriteCounter" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> unsigned int DC_BasicPUSTmStream::getWriteCounter           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the current value of the write counter. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>the write counter </dd></dl>

<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00068">68</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="DC_BasicPUSTmStream::isObjectConfigured" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool DC_BasicPUSTmStream::isObjectConfigured           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Perform a class-specific configuration check on the telemetry stream: verify that the size and starting address of the telemetry write area have been loaded. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if the telemetry stream is configured, false otherwise. </dd></dl>

<p>
Reimplemented from <a class="el" href="classCC__RootObject.html#a1">CC_RootObject</a>.
<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00143">143</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="DC_BasicPUSTmStream::reset" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_BasicPUSTmStream::reset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reset the telemetry stream. 
<p>
The write counter is set to 1 and the packet counter is set to 0. The next packet will be written at the beginning of the telemetry write area (starting at location 1, location 0 is reserved for the packet counter). 
<p>
Reimplemented from <a class="el" href="classTelemetryStream.html#a1">TelemetryStream</a>.
<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00032">32</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="DC_BasicPUSTmStream::setCapacity" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_BasicPUSTmStream::setCapacity           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>n</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the capacity of the telemetry stream. 
<p>
The capacity of this telemetry stream is equal to the size in bytes of the telemetry write area. If s is the staring address of the telemetry write area (loaded with method <code>setStartingAddress</code>) and if L is the value loaded with with this method, then the i-th location of the telemetry write area is internally accessed as s[i] where i must be in the range [0,L-1]. It is the responsibility of the user to ensure that the locations thus accessed are free for use by this telemetry stream component. Only positive values for the argument of this method are legal. <dl compact><dt><b>See also:</b></dt><dd>#setStartingAddress </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>n</em>&nbsp;</td><td>the size of the telemetry write area in number of bytes </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00047">47</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="DC_BasicPUSTmStream::setStartAddress" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_BasicPUSTmStream::setStartAddress           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pAddress</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the starting address of the telemetry write area. 
<p>
This component does not perform any memory allocation operation. It assumes that the memory for the telemetry write area has already been allocated by the caller. The telemetry stream is reset when a new start address is loaded. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>pAddress</em>&nbsp;</td><td>pointer to the first location of the byte array </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00052">52</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="DC_BasicPUSTmStream::write" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DC_BasicPUSTmStream::write           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTelemetryPacket.html">TelemetryPacket</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>pItem</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write one telemetry packet to the telemetry write area. 
<p>
First the PUS header is written to the telemetry write area. Then the telemetry bytes read from the telemetry packet are written in sequence. The write operation begins at location wc in the telemetry write area where wc is the value of the write counter. Before beginning to write the packet data, a check is made to verify that there is enough space in the telemetry write area. If this is not the case, then an event of type EVT_TM_STREAM_END is generated and the method returns. After successful completion of a write operation, the packet counter is incremented by 1. The sequence count is incremented by one for each write request regardless of whether or not it was successful <p>
There is no check on an overflow of either the write or packet counter. <p>
The telemetry packet data are extracted from the telemetry packet component through its <em>data acquisition service</em>. If the packet provides it, then the <em>fast version</em> of the service is used. Otherwise the <em>safe version</em> is used. Method <code>isFastAcquisitionImplemented</code> is used to determine whether the fast version is provided. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>pItem</em>&nbsp;</td><td>the telemetry packet to be written to the telemetry stream </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classTelemetryStream.html#a5">TelemetryStream</a>.
<p>
Definition at line <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html#l00085">85</a> of file <a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="DC__BasicPUSTmStream_8h-source.html">DC_BasicPUSTmStream.h</a><li><a class="el" href="DC__BasicPUSTmStream_8cpp-source.html">DC_BasicPUSTmStream.cpp</a></ul>
<center>
<b>Copyright 2003 <a href="http://www.pnp-software.com/" target="_parent">P&P Software GmbH</a> - All Rights Reserved</b>
</center>
